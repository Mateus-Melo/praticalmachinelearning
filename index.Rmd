---
title: "Pratical Machine Learning Course Project"
author: "Mateus Melo"
date: "30/10/2020"
output: 
  html_document: 
    keep_md: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Loading The Data

We start our analysis by loading both the test and training datasets and looking at the number of variables and observations. 

```{r cache=TRUE}
trainingUrl <- "https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv"
testingUrl <- "https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv"

download.file(trainingUrl,"training.csv")
download.file(testingUrl,"testing.csv")

training <- read.csv("training.csv")
testing <- read.csv("testing.csv")

dimTraining <- dim(training)
dimTesting <- dim(testing)

dimBoth <- rbind(dimTraining, dimTesting)
colnames(dimBoth) <- c("Observations", "Variables")
print(dimBoth)
```

Since we have a large number of observations in the  training dataset, we are going to break it into a new training and a validation dataset. This way, we are going to be able to perform a cross-validation in the following way: training our model with the training dataset, validating it with the validation dataset and testing it with the testing dataset to get unbiased results and an out-sample error. To make our analysis reproducible, we are going to set a seed.

```{r cache=TRUE, message=FALSE, warning=FALSE}
library(caret)

set.seed(1234)

inTrain <- createDataPartition(y=training$class, p=0.7, list=F)
validation <- training[-inTrain,]
training <- training[inTrain,]

str(training)
```